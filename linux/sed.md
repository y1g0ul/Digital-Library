---
created-dt: 2026-02-02 11:08
tags:
  - review
---
Это мощный потоковый текстовый редактор в [[Linux]], используемый для автоматизированного редактирования файлов или потоков данных (через конвейер) без открытия их в текстовом редакторе.
```
sed [опции] 'команды' файл
```

| Команда | Назначение                                                                                                                                            |
| ------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| `s`     | Замена текста<br><br>Формат:<br>`s/что/на_что/флаги`<br>Флаги:<br>`g` — все вхождения<br>`i` — без учёта регистра<br>`p` — печатать изменённые строки |
| `d`     | удалить строку                                                                                                                                        |
| `p`     | напечатать строку                                                                                                                                     |
| `q`     | выйти                                                                                                                                                 |
| `a`     | добавить строку после                                                                                                                                 |
| `i`     | вставить строку перед                                                                                                                                 |
| `c`     | заменить всю строку                                                                                                                                   |
 Адресация (где применять)
- `N` — номер строки
- `N,M` — диапазон строк
- `/regex/` — строки по шаблону
- без адреса — все строки

| Опция | Что делает             |
| ----- | ---------------------- |
| `-n`  | отключить авто-вывод   |
| `-i`  | изменить файл на месте |
| `-e`  | несколько команд       |
| `-f`  | команды из файла       |
|       |                        |
Примеры:

Замена `s`
``` bash
sed 's/foo/bar/' file.txt    # заменить первое foo в строке на bar
sed 's/foo/bar/g' file.txt   # заменить все foo в строке
sed 's/foo/bar/gi' file.txt  # заменить все foo без учёта регистра
```

Удаление `d`
``` bash
sed '2d' file.txt          # удалить 2-ю строку
sed '2,5d' file.txt        # удалить строки с 2 по 5
sed '/^#/d' file.txt       # удалить строки, начинающиеся с #
```

Печать `p`
``` bash
sed -n '3p' file.txt       # вывести только 3-ю строку
sed -n '/error/p' file.txt # вывести строки, содержащие error
```

Выход `q`
``` bash
sed '5q' file.txt          # вывести первые 5 строк и выйти
```

Вставка / добавление
``` bash 
sed '2i\Новая строка' file.txt  # вставить перед 2-й строкой
sed '2a\Новая строка' file.txt  # добавить после 2-й строки
```

Замена всей строки `c`
``` bash
sed '3c\Эта строка заменена' file.txt   # заменить 3-ю строку полностью
```

Опции
``` bash
sed -n 's/foo/bar/p' file.txt  # только напечатать строки с заменой
sed -i 's/foo/bar/g' file.txt  # заменить в файле на месте
sed -e 's/foo/bar/' -e 's/baz/qux/' file.txt  # несколько команд
sed -f commands.sed file.txt   # команды из файла
```