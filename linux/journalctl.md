---
created-dt: 2026-01-15 08:14
tags:
  - review
sr-due: 2026-01-28
sr-interval: 9
sr-ease: 250
---
**`systemd-journald`** — это единый сервис, который собирает все логи системы.
- **база логов**, а не просто текстовый файл
- хранится в бинарном формате
- можно фильтровать по:
    - сервису ([[unit]])
    - времени
    - уровню ошибок
    - [[PID]]
    - [[UID]]
    - [[unit]]

Папки хранения:
- `/run/log/journal/` — временно (пропадают после reboot)
- `/var/log/journal/` — постоянно (если директория существует)

```
journalctl [OPTIONS] [-p PRIORITY] [-u UNIT] [--since TIME] [--until TIME] [_MATCHES...]
```
- **`[OPTIONS]`** — ключи управления выводом
- **`[-p PRIORITY]`** — фильтр по уровню важности
- **`[-u UNIT]`** — фильтр по сервису / юниту systemd
- **`[--since / --until TIME]`** — фильтр по времени
- **`[_MATCHES...]`** — фильтры по PID, UID, имени процесса или бинарнику



Ключи управления выводом (OPTIONS)

| Ключ           | Что делает                         |
| -------------- | ---------------------------------- |
| `-f`           | Следить в реальном времени         |
| `--no-pager`   | Вывод сразу в терминал, без `less` |
| `-x`           | Добавляет пояснения к сообщениям   |
| `-e`           | Перейти к концу вывода             |
| `-xe`          | Ошибки + пояснения                 |
| `-o short`     | Краткий формат                     |
| `-o verbose`   | Полный формат со всеми полями      |
| `--list-boots` | Список всех загрузок               |
| `-b`           | Логи текущей загрузки              |
| `-b -1`        | Логи предыдущей загрузки           |


Уровни важности (PRIORITY)

|Ключ|Значение|
|---|---|
|emerg|Критическая авария|
|alert|Срочная проблема|
|crit|Критическая ошибка|
|err|Ошибка|
|warning|Предупреждение|
|notice|Важная информация|
|info|Информация|
|debug|Отладка|


Фильтры по юниту / сервису (UNIT)

| Команда                | Что делает                     |
| ---------------------- | ------------------------------ |
| `-u ssh.service`       | Логи SSH                       |



Фильтры по времени

|Команда|Что делает|
|---|---|
|`--since "1 hour ago"`|За последний час|
|`--since "2026-01-15 02:00"`|С указанного времени|
|`--until "10 minutes ago"`|До указанного времени|


Фильтры по процессу / метаданные (MATCHES)

| Фильтр                      | Что делает         |
| --------------------------- | ------------------ |
| `_SYSTEMD_UNIT=ssh.service` | По юниту / сервису |
| `_PID=1234`                 | По процессу        |
| `_UID=1000`                 | По пользователю    |
| `_COMM=sshd`                | По имени команды   |
| `_EXE=/usr/sbin/sshd`       | По бинарнику       |
